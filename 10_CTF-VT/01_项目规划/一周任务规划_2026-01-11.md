---
created: 2026-01-11
tags:
  - 📝/Weekly-Plan
  - 🤖/Robotics
  - 🛠️/LeRobot
  - 📅/IROS
status: 🟡 In-Progress
project: Visuo-Tactile-Peg-In-Hole
week: 2026-W02
---

# 🗓 一周任务规划（2026-01-12 ~ 2026-01-18）

## 0. 本周整体目标

- ✅ 用 Realman + Realsense + VR 在 LeRobot 下，稳定录制 **Peg-in-Hole 专用数据集**，确保 `action / reward / done` 语义完全正确。
- ✅ 在该数据集上，跑通至少一种 **Vision-Only 策略**（BC / Diffusion Policy 任选其一），并在真机上完成首轮评估。
- ✅ 明确接下来 1 个月的实验配方（baseline vs ours），为后续触觉集成和多模态 Diffusion 打基础。

---

## Day 1（Mon）—— 巩固 Realman+VR 数据管线

**核心目标：** 确认最新 HIL/录制链路下，`action` 真正记录的是 VR 末端动作，episode 边界和标签语义无歧义。

- [ ] 重新录制一个小数据集（3–5 个 episode）
  - 场景可以是简单到桌面上移动手爪，不要求 peg-in-hole。
  - 使用当前 `gym_manipulator_realman` 或等价录制脚本。
- [ ] 用检查脚本验证：
  - [ ] `action` 前 7 维在 VR 手移动时明显变化，不再是常数。
  - [ ] `action[7]`（gripper）在开/合时有 0↔1 的切换。
  - [ ] 每个 episode 的最后一帧 `next.done=True`，并且 `next.reward` 在你按 SUCCESS/FAILURE 时能正确变化（如果当前已有标签逻辑）。
- [ ] 在项目文档中记录：
  - [ ] 当前真实使用的 `action` 语义（单位/范围、坐标系）。
  - [ ] VR 按键 → TeleopEvents → `reward/done` 的映射表。

**验收标准：**
- 一份小数据集（目录固定命名，如 `recordings_pih_debug_v1`）。
- 一段简单的分析输出（截图/Markdown），清楚展示 `action` 和 `reward/done` 的时间曲线示例。

---

## Day 2（Tue）—— 固化 Peg-in-Hole 场景与数据协议

**核心目标：** 把 peg-in-hole 任务从“想法”变成一个清晰可复现的实验场景和录制 protocol。

- [ ] 物理环境定型：
  - [ ] 选定 Peg 和 Hole 的几何尺寸、公差范围（例如 ±5mm 偏差）。
  - [ ] 确定桌面坐标系、Hole 位置标定方式（如通过一次性标定/demo）。
  - [ ] 固定 Realsense 相机视角与光照布置，避免后续频繁移动。
- [ ] 定义数据录制 protocol：
  - [ ] 每个 episode 包含哪些阶段（接近、对准、接触、插入/失败）。
  - [ ] 成功/失败标签规则（例如：插入深度超过阈值 + 接触力在安全范围内记为成功）。
  - [ ] 是否需要“失败-修正”类型的数据（对后续触觉 fine controller 很关键）。
- [ ] 在 Obsidian 项目主页下新建/更新一页：
  - [ ] 用文字 + 示意图说明任务设定、成功条件和 failure modes（插偏、卡住、滑出等）。

**验收标准：**
- 一份清晰的任务说明文档（最好附一张相机视角下的照片/示意图）。

---

## Day 3（Wed）—— 录制首批 Vision-Only 数据集

**核心目标：** 得到第一个可以用于训练 Vision-Only 策略的 peg-in-hole 数据集。

- [ ] 按 Day 2 的 protocol，使用 VR 遥操作录制：
  - [ ] 至少 20–30 个 episode（成功+失败混合）。
  - [ ] 帧率保持 ~10Hz，确保 robot state 与图像同步稳定。
- [ ] 录制完成后：
  - [ ] 用脚本统计成功/失败比例，检查是否严重偏斜（太偏需要补采）。
  - [ ] 随机抽查几个 episode 视频，肉眼确认标注与实际成功/失败一致。
- [ ] 将该数据集固定命名，如 `ctfvt_pih_vision_v1`，并在 Obsidian 中登记数据集元信息（路径、集数、FPS、features 等）。

**验收标准：**
- 一个结构合理的数据集目录 + 一页简短的 dataset card（类 HuggingFace style）。

---

## Day 4（Thu）—— Vision-Only 策略训练与离线评估

**核心目标：** 在 LeRobot 下跑通一个 Vision-Only Policy（BC 或 Diffusion），并在离线评估中看出基本学习效果。

- [ ] 选定策略类型：
  - 可选：
    - [ ] Diffusion Policy（如果你希望和后续触觉版本结构统一）。
    - [ ] 简单 BC（先快速看到效果）。
- [ ] 配置 LeRobot 训练脚本：
  - [ ] 观测：`RGB + q_proprio`（暂不加触觉）。
  - [ ] 动作：与当前 data pipeline 一致的 `action` 向量（末端 pose + gripper）。
  - [ ] 训练/验证划分策略（例如 80/20 按 episode split）。
- [ ] 离线评估：
  - [ ] 训练过程中记录 loss、action 分布等基本指标。
  - [ ] 用 offline roll-out（replay 数据集）或简易 metrics（如 next-step 预测误差）判断策略是否学到了合理行为。

**验收标准：**
- 一次完整的训练 run（可以未完全收敛，但 pipeline 可复现）。
- 保存训练配置和日志，写下 3–5 行结论：现有数据+结构下，纯视觉策略的学习质量如何。

---

## Day 5（Fri）—— 真机 Vision-Only 策略初次上线

**核心目标：** 把 Day 4 训练出的策略在 Realman 上跑起来，完成首轮真机评估。

- [ ] 配置 LeRobot 的 policy replay / eval 脚本：
  - [ ] 确认动作接口和 Realman 控制接口对齐（与录制时一致）。
  - [ ] 限制动作幅度和速度，保证安全。
- [ ] 在 peg-in-hole 环境中运行策略：
  - [ ] 从起始 hover pose 开始，记录 5–10 个 episode 的执行结果。
  - [ ] 用相机录屏 + 日志记录真实成功率和典型失败现象（偏移、抖动、撞击等）。
- [ ] 根据结果，快速记录：
  - [ ] 目前 Vision-Only 的瓶颈（例如：遮挡导致末段插入失败 / 对随机偏差的鲁棒性差）。
  - [ ] 这些 failure modes 如何正好为后续触觉 fine controller 提供 motivation。

**验收标准：**
- 一段真机实验视频 + 简单成功率统计。
- 一页小结：Vision-Only baseline 的能力和不足点。

---

## Day 6（Sat）—— 触觉/力传感器前期准备（不改动主干 pipeline）

**核心目标：** 不影响现有 vision pipeline 的前提下，开始为触觉/力数据打基础，但本周不强求完全接入 LeRobot。

- [ ] 确认 Xsense 触觉硬件与当前 Realman setup 的机械兼容性：
  - [ ] 完成基础安装/拆装流程演练（保证未来换传感器不会太重）。
- [ ] 在单独脚本/ROS2 节点中：
  - [ ] 读取触觉图像流和 6-DoF 力/力矩数据，确认频率与稳定性。
  - [ ] 粗略对齐触觉时间戳和相机/机器人时间（例如统一用 ROS time）。
- [ ] 记录一小段“纯触觉 demo”（如简单接触/滑动），保存到单独目录，暂不进入 LeRobot dataset。

**验收标准：**
- 一个可以稳定输出 `Tactile Image + Force` 的最小可用脚本或 ROS2 节点。
- 一段示例数据 + 说明文档，供下周设计多模态 observation 用。

---

## Day 7（Sun）—— 一周回顾 & 下周规划

**核心目标：** 把本周结果沉淀下来，并面向“一个月内做完实验”的大目标，细化后 3 周的里程碑。

- [ ] 在 Obsidian 中更新：
  - [ ] Vision-Only baseline 的当前指标（成功率、典型 failure）。
  - [ ] 现有数据集清单与用途（训练 / debug / 预备触觉）。
- [ ] 整理下周（Week 3）目标草案：
  - [ ] 明确要完成的内容：
    - [ ] 触觉数据进入 LeRobot dataset（扩展 features）。
    - [ ] 初版多模态 Encoder 结构设计稿。
    - [ ] 初始多模态仿真或小规模真机测试计划。
- [ ] 根据 IROS 截稿时间，粗略规划接下来 3 周：
  - Week 3：多模态数据管线 + 小规模 VT-Diffusion 原型。
  - Week 4：系统性实验 + 消融（Vision-Only / Blind-Tactile / Ours）。
  - Week 5：论文草稿撰写 + 图表整理 + 代码/数据清理。

**验收标准：**
- 本周完成情况在 Obsidian 有清晰记录。
- 后续 3 周的里程碑在项目主页或单独页面上有初稿。